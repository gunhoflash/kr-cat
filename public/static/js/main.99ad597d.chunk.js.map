{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["birthday","dayjs","dayCounts","baseUrl","xmlHttpRequest","XMLHttpRequest","getLOLImgPath","v","subpath","App","useState","now","setNow","apiKey","setApiKey","LOLInfo","setLOLInfo","histories","setHistories","isShowAPIInput","setIsShowAPIInput","requestAnimationFrameRef","useRef","dayCount","reduce","prevDayCount","millisecond","add","diff","anniversary","day","Math","floor","hour","minute","second","showRemainedDate","valueOf","current","requestAnimationFrame","useEffect","open","send","onload","status","obj","JSON","parse","response","console","log","inGamePlayerInfos","cancelAnimationFrame","className","format","slice","summonerName","src","profileIcon","alt","summonerLevel","win","lose","map","history","index","champion","spell1","spell2","item0","item1","item2","item3","item4","item5","onSubmit","setRequestHeader","stringify","window","location","reload","id","type","value","onChange","e","target","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99ad597d.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport dayjs from 'dayjs';\nimport './App.css';\n\nconst birthday = dayjs('1996-10-24');\nconst dayCounts = [\n  12500,\n  12345,\n  12000,\n  11500,\n  11111,\n  11000,\n  10500,\n  10001,\n  10000,\n  9999,\n  9876,\n  9500,\n];\n\nconst baseUrl = \"https://kr-carrot.herokuapp.com/api\";\nconst LOL_IMG_BASE = 'http://ddragon.leagueoflegends.com/cdn/11.15.1/img';\n\nconst xmlHttpRequest = new XMLHttpRequest();\nconst getLOLImgPath = (v: string, subpath: string) => `${LOL_IMG_BASE}/${subpath}/${v}.png`;\n\nfunction App() {\n  const [now, setNow] = useState(0);\n\n  const [apiKey, setApiKey] = useState('');\n  const [LOLInfo, setLOLInfo] = useState<any>(null);\n  const [histories, setHistories] = useState([]);\n  const [isShowAPIInput, setIsShowAPIInput] = useState(false);\n\n  const requestAnimationFrameRef = useRef<number>();\n\n  const dayCount = dayCounts.reduce((prevDayCount, dayCount) => {\n    const anniversary = birthday.add(dayCount - 1, 'day');\n    const millisecond = anniversary.diff(now);\n    if (millisecond > 0) return dayCount;\n    if (millisecond > - 18 * 60 * 60 * 1000) return dayCount;\n    return prevDayCount;\n  }, dayCounts[0]);\n\n  const anniversary = birthday.add(dayCount - 1, 'day');\n  const millisecond = anniversary.diff(now);\n\n  const day    = millisecond > 0 ? Math.floor(millisecond / 1000 / 60 / 60 / 24) : 0;\n  const hour   = millisecond > 0 ? Math.floor(millisecond / 1000 / 60 / 60) % 24 : 0;\n  const minute = millisecond > 0 ? Math.floor(millisecond / 1000 / 60) % 60 : 0;\n  const second = millisecond > 0 ? Math.floor(millisecond / 1000) % 60 : 0;\n\n  function showRemainedDate() {\n    setNow(dayjs().valueOf());\n    requestAnimationFrameRef.current = requestAnimationFrame(showRemainedDate);\n  }\n\n  useEffect(() => {\n    requestAnimationFrameRef.current = requestAnimationFrame(showRemainedDate);\n\n    xmlHttpRequest.open(\"GET\", baseUrl + \"/summoner/아트런/3\", true); // 하드코딩 ㅈㅅ\n    xmlHttpRequest.send();\n    xmlHttpRequest.onload = () => {\n      if (xmlHttpRequest.status === 200) {\n        const obj = JSON.parse(xmlHttpRequest.response).response;\n        console.log(obj);\n        setLOLInfo(obj);\n        setHistories(obj.inGamePlayerInfos);\n      } else {\n        // handle LoL Error: display register api key\n        setIsShowAPIInput(true);\n      }\n    }\n\n    return () => cancelAnimationFrame(requestAnimationFrameRef.current as number);\n  }, []);\n\n  // api key 등록\n  function onSubmitApiKey() {\n    xmlHttpRequest.open('POST', baseUrl + '/api-key', true);\n    xmlHttpRequest.setRequestHeader('Content-Type', 'application/json');\n    xmlHttpRequest.send(JSON.stringify({apiKey}));\n    window.location.reload();\n  }\n\n  return (\n    <div>\n      <div>\n        <div className=\"subtitle\">\n          {millisecond > 0\n            ? `${dayCount}까지`\n            : `${dayCount}: ${anniversary.format('YYYY-MM-DD')}`\n          }\n        </div>\n        <div>\n          {millisecond > 0 ? (\n            <>\n              {!!(day                            ) && <p className=\"title\">{day}일</p>}\n              {!!(day || hour                    ) && <p className=\"title\">{('0' + hour).slice(-2)}시간</p>}\n              {!!(day || hour || minute          ) && <p className=\"title\">{('0' + minute).slice(-2)}분</p>}\n              {!!(day || hour || minute || second) && <p className=\"title\">{('0' + second).slice(-2)}초</p>}\n              <p className=\"title\">{('00' + millisecond).slice(-3)}</p>\n            </>\n          ) : 'Congratulations!'}\n        </div>\n      </div>\n\n      {/* lol */}\n      {LOLInfo && (\n        <div className=\"lol-frame\">\n          {/* 소환사 프로필 정보 */}\n          <div>\n            <div>{LOLInfo.summonerName}</div>\n            <img src={getLOLImgPath(LOLInfo.profileIcon, 'profileicon')} alt=\"\" />\n          </div>\n          <p>Lv.{LOLInfo.summonerLevel}</p>\n          <p>{LOLInfo.win + LOLInfo.lose}전 {LOLInfo.win}승 {LOLInfo.lose}패</p>\n\n          {/* Match Histories */}\n          {histories.map((history: any, index: number) => (\n            <div className=\"lol-game-div\" key={index}>\n              <img src={getLOLImgPath(history.champion, 'champion')} alt=\"\" />\n              <img src={getLOLImgPath(history.spell1, 'spell')} alt=\"\" />\n              <img src={getLOLImgPath(history.spell2, 'spell')} alt=\"\" />\n              <img src={getLOLImgPath(history.item0, 'item')} alt=\"\" />\n              <img src={getLOLImgPath(history.item1, 'item')} alt=\"\" />\n              <img src={getLOLImgPath(history.item2, 'item')} alt=\"\" />\n              <img src={getLOLImgPath(history.item3, 'item')} alt=\"\" />\n              <img src={getLOLImgPath(history.item4, 'item')} alt=\"\" />\n              <img src={getLOLImgPath(history.item5, 'item')} alt=\"\" />\n              {/* TODO: 이거 이기고 진거에 따라 배경색 다르게 해주세요 */}\n              <p>{history.win ? 'win' : 'lose'}</p>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* register api key */}\n      {isShowAPIInput && (\n        <form onSubmit={onSubmitApiKey}>\n          <div>enter api key</div>\n          <input\n            id=\"api-key\"\n            type=\"text\"\n            value={apiKey}\n            onChange={e => setApiKey(e.target.value)}\n          />\n          <button type=\"submit\">submit</button>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}