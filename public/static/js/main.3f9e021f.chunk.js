(this["webpackJsonpkr-cat"]=this["webpackJsonpkr-cat"]||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(7);var c=n(1),r=n.n(c),s=n(6),l=n.n(s),a=n(4),o=n.n(a),i=n(2),u=n(5),j=n.n(u),m=n(0),f=j()("1996-10-24"),d=[12500,12345,12e3,11500,11111,11e3,10500,10001,1e4,9999,9876,9500],b=function(e){var t=e.text;return Object(c.useMemo)((function(){return Object(m.jsx)("p",{className:"title m-0 leading-none",children:t})}),[t])},x=function(e){var t=e.isTheDay,n=e.dayCount,r=e.anniversary;return Object(c.useMemo)((function(){return Object(m.jsx)("div",{className:"subtitle pl-0.5",children:t?"".concat(n,": ").concat(r.format("YYYY-MM-DD")):"".concat(n,"\uae4c\uc9c0")})}),[t,n])},O=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useRef)(),l=d.reduce((function(e,t){var c=f.add(t-1,"day").diff(n);return c>0||c>-648e5?t:e}),d[0]),a=f.add(l-1,"day"),o=a.diff(n),u=o<=0,O=u?0:Math.floor(o/1e3/60/60/24),h=u?0:Math.floor(o/1e3/60/60)%24,v=u?0:Math.floor(o/1e3/60)%60,p=u?0:Math.floor(o/1e3)%60;function w(){r(j()().valueOf()),s.current=requestAnimationFrame(w)}return Object(c.useEffect)((function(){return s.current=requestAnimationFrame(w),function(){return cancelAnimationFrame(s.current)}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{isTheDay:u,dayCount:l,anniversary:a}),Object(m.jsx)("div",{children:u?"Congratulations!":Object(m.jsxs)(m.Fragment,{children:[!!O&&Object(m.jsx)(b,{text:"".concat(O,"\uc77c")}),!(!O&&!h)&&Object(m.jsx)(b,{text:"".concat(("0"+h).slice(-2),"\uc2dc\uac04")}),!!(O||h||v)&&Object(m.jsx)(b,{text:"".concat(("0"+v).slice(-2),"\ubd84")}),!!(O||h||v||p)&&Object(m.jsx)(b,{text:"".concat(("0"+p).slice(-2),"\ucd08")}),Object(m.jsx)(b,{text:("00"+o).slice(-3)})]})})]})};n(13);var h=function(){return Object(m.jsx)("div",{className:" flex flex-col justify-center overflow-hidden w-full h-full text-[200%] italic pl-[1rem] sm:pl-[2.5rem] md:pl-[5rem] lg:pl-[9rem] xl:pl-[17rem] ",children:Object(m.jsx)(O,{})})},v=(n(14),n(15),"https://kr-carrot-kotlin.herokuapp.com/api"),p=function(e,t){e.current&&(e.current.value=t)};function w(e){var t=e.comment;return Object(m.jsxs)("div",{className:"flex flex-col mb-4 comment-background",children:[Object(m.jsxs)("div",{className:"flex flex-row mb-2",children:[Object(m.jsx)("div",{className:"mr-2 comment-writer",children:t.writer}),Object(m.jsx)("div",{className:"comment-date",children:t.regDate})]}),Object(m.jsx)("div",{className:"flex flex-row",children:Object(m.jsx)("div",{className:"comment-content",children:t.content})})]})}function N(e){var t=e.onRefresh,n=Object(c.useRef)(null),r=Object(c.useRef)(null),s=Object(c.useRef)(null),l=Object(c.useCallback)((function(e){var c,l,a;e.preventDefault(),window.fetch("".concat(v,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({writer:null===(c=n.current)||void 0===c?void 0:c.value,password:null===(l=r.current)||void 0===l?void 0:l.value,content:null===(a=s.current)||void 0===a?void 0:a.value})}).then((function(e){p(n,""),p(r,""),p(s,""),t(),201!==e.status&&console.log("save comment error")}))}),[t]);return Object(m.jsx)("div",{className:"comment-input justify-self-start",children:Object(m.jsxs)("form",{onSubmit:l,children:[Object(m.jsxs)("div",{className:"flex flex-row mb-4",children:[Object(m.jsxs)("div",{className:"mr-4",children:[Object(m.jsx)("label",{className:"mr-2",htmlFor:"writer",children:"\uc791\uc131\uc790"}),Object(m.jsx)("input",{ref:n,name:"writer"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"mr-2",htmlFor:"password",children:"\ube44\ubc00\ubc88\ud638"}),Object(m.jsx)("input",{ref:r,name:"password",type:"password"})]})]}),Object(m.jsx)("textarea",{ref:s,name:"content",className:"comment-text"}),Object(m.jsx)("div",{className:"flex flex-row justify-end",children:Object(m.jsx)("button",{type:"submit",children:"\ub4f1\ub85d"})})]})})}var y=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useCallback)((function(){window.fetch("".concat(v,"/comments")).then((function(e){return e.json()})).then((function(e){return r(e.content)}))}),[]);return Object(c.useEffect)(s,[s]),Object(m.jsxs)("div",{className:"root flex flex-col items-center font-comment",children:[Object(m.jsx)("h1",{className:"comment-title",children:"\ubc29\uba85\ub85d"}),Object(m.jsx)(N,{onRefresh:s}),Object(m.jsx)("div",{className:"flex flex-col comment-frame",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(m.jsx)(w,{comment:e},t)}))})]})};var g=function(){return Object(m.jsx)("div",{className:" flex flex-col justify-center w-full min-h-full ",children:Object(m.jsx)(y,{})})};var F=function(){var e=[Object(m.jsx)(h,{}),Object(m.jsx)(g,{})];return Object(m.jsx)(o.a,{scrollingSpeed:1e3,scrollOverflow:!0,recordHistory:!1,normalScrollElements:".normal-scroll-element",render:function(t){t.state,t.fullpageApi;return Object(m.jsx)(o.a.Wrapper,{children:e.map((function(e,t){return Object(m.jsx)("div",{className:"section",children:e},t)}))})}})},k=function(){return Object(m.jsx)(F,{})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),r(e),s(e),l(e)}))};l.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root")),C()}],[[16,1,2]]]);
//# sourceMappingURL=main.3f9e021f.chunk.js.map